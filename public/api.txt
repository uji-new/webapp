⇒ Objetos
Service: {type: “...”, name: “...”, description: “...”}
Place: {coords: “...”, name: “...”, alias: “...”}

⇒ Peticiones (todo necesita sesión excepto anotados)

Crear cuenta (crea sesión)
[POST] /user?mail={mail}&password={password}
(200 OK o 409 Conflict)

Modificar de cuenta
[PUT] /user?password={password}

Cierre de cuenta
[DELETE] /user

Inicio de sesión (crea sesión)
[POST] /session?mail={mail}&password={password}
(200 OK o 401 Unauthorized)

Cierre de sesión
[DELETE] /session

Ver servicios a nivel global (incluye todos)
[GET] /services → [{service: Service, active: boolean}, …]

Habilitar servicio a nivel global
[POST] /services?type={type}

Deshabilitar servicio a nivel global
[DELETE] /services?type={type}

Ver servicios a nivel lugar (solo incluye los globales)
[GET] /services/{coords} → [{service: Service, active: boolean, data: {...}}, …]
(data false si inactivo)

Habilitar servicio a nivel lugar
[POST] /services/{coords}?type={type}

Deshabilitar servicio a nivel lugar
[DELETE] /services/{coords}?type={type}

Ver lugares guardados
[GET] /places -> [Place, …]

Añadir lugar guardado
[POST] /places/{query}?alias={name}
(query recomendado coords)

Modificar un lugar guardado
[PUT] /places/{coords}?alias={name}

Borrar un lugar guardado
[DELETE] /places/{coords}

Ver lugares históricos
[GET] /history -> [Place, …]

Restaurar lugar histórico
[POST] /history/{coords}

Borrar un lugar histórico
[DELETE] /history/{coords}

Buscar nuevos lugares (por topónimo o coordenadas)
[GET] /query/{query} -> [Place, …]
(alias es nulo)

⇒ Respuestas de servicios (campo data)
Error a nivel de servicio (sustituye todo data)
false

JS: if (subresponse.data === false) bad else process_data_as_api

Servicio WEATHER
{icon: URL, description: “...”, temp: double, rain: double, wind: double}
(temp en celsius)
(rain en probabilidad)
(wind en m/s)

Servicio NEWS
[{title: “...”, description: “...”, author: “...”, url: URL, image: URL}, ...]
(author false si desconocido)
(image false si no hay)

Servicio EVENTS
[{title: “...”, date: “...”, location: “...”, author: “...”, url: URL, image: URL, price: double}, ...]
(price en EUR)
(date en ISO)
